"use strict";(()=>{var u={promise:null,load:t=>{typeof SC<"u"?u._createPlayer(t):(u.promise=u.promise||mejs.Utils.loadScript("https://w.soundcloud.com/player/api.js"),u.promise.then(()=>{u._createPlayer(t)}))},_createPlayer:t=>{let f=SC.Widget(t.iframe);window[`__ready__${t.id}`](f)}},T={name:"soundcloud_iframe",options:{prefix:"soundcloud_iframe"},canPlayType:t=>~["video/soundcloud","video/x-soundcloud"].indexOf(t.toLowerCase()),create:(t,f,U)=>{let s={},p=[],g=t.originalNode.autoplay,h=t.originalNode!==null&&t.originalNode.tagName.toLowerCase()==="video",d=0,m=0,S=0,j=1,C=!1,v=!0,y=!1,a=null,r=null;s.options=f,s.id=t.id+"_"+f.prefix,s.mediaElement=t;let b=mejs.html5media.properties,_=n=>{let i=`${n.substring(0,1).toUpperCase()}${n.substring(1)}`;s[`get${i}`]=()=>{if(a!==null){switch(n){case"currentTime":return m;case"duration":return d;case"volume":return j;case"paused":return v;case"ended":return y;case"muted":return C;case"buffered":return{start:()=>0,end:()=>S*d,length:1};case"src":return r?r.src:"";case"readyState":return 4}return null}else return null},s[`set${i}`]=e=>{if(a!==null)switch(n){case"src":let o=typeof e=="string"?e:e[0].src;a.load(o),g&&a.play();break;case"currentTime":a.seekTo(e*1e3);break;case"muted":e?a.setVolume(0):a.setVolume(1),setTimeout(()=>{let c=mejs.Utils.createEvent("volumechange",s);t.dispatchEvent(c)},50);break;case"volume":a.setVolume(e),setTimeout(()=>{let c=mejs.Utils.createEvent("volumechange",s);t.dispatchEvent(c)},50);break;case"readyState":let l=mejs.Utils.createEvent("canplay",s);t.dispatchEvent(l);break;default:console.log("sc "+s.id,n,"UNSUPPORTED property");break}else p.push({type:"set",propName:n,value:e})}};for(let n=0,i=b.length;n<i;n++)_(b[n]);let E=mejs.html5media.methods,P=n=>{s[n]=()=>{if(a!==null)switch(n){case"play":return a.play();case"pause":return a.pause();case"load":return null}else p.push({type:"call",methodName:n})}};for(let n=0,i=E.length;n<i;n++)P(E[n]);window["__ready__"+s.id]=n=>{if(t.scPlayer=a=n,g&&a.play(),p.length)for(let e=0,o=p.length;e<o;e++){let l=p[e];if(l.type==="set"){let c=l.propName,k=`${c.substring(0,1).toUpperCase()}${c.substring(1)}`;s[`set${k}`](l.value)}else l.type==="call"&&s[l.methodName]()}a.bind(SC.Widget.Events.PLAY_PROGRESS,()=>{v=!1,y=!1,a.getPosition(e=>{m=e/1e3;let o=mejs.Utils.createEvent("timeupdate",s);t.dispatchEvent(o)})}),a.bind(SC.Widget.Events.PAUSE,()=>{v=!0;let e=mejs.Utils.createEvent("pause",s);t.dispatchEvent(e)}),a.bind(SC.Widget.Events.PLAY,()=>{v=!1,y=!1;let e=mejs.Utils.createEvent("play",s);t.dispatchEvent(e)}),a.bind(SC.Widget.Events.FINISHED,()=>{v=!1,y=!0;let e=mejs.Utils.createEvent("ended",s);t.dispatchEvent(e)}),a.bind(SC.Widget.Events.READY,()=>{a.getDuration(e=>{d=e/1e3;let o=mejs.Utils.createEvent("loadedmetadata",s);t.dispatchEvent(o)})}),a.bind(SC.Widget.Events.LOAD_PROGRESS,()=>{a.getDuration(e=>{if(d>0){S=d*e;let o=mejs.Utils.createEvent("progress",s);t.dispatchEvent(o)}}),a.getDuration(e=>{d=e;let o=mejs.Utils.createEvent("loadedmetadata",s);t.dispatchEvent(o)})});let i=["rendererready","loadeddata","loadedmetadata","canplay"];for(let e=0,o=i.length;e<o;e++){let l=mejs.Utils.createEvent(i[e],s,!0);t.dispatchEvent(l)}},r=document.createElement("iframe"),r.id=s.id,r.width=h?"100%":1,r.height=h?"100%":1,r.frameBorder=0,r.style.visibility=h?"visible":"hidden",r.src=U[0].src,r.scrolling="no",t.appendChild(r),t.originalNode.style.display="none";let w={iframe:r,id:s.id};return u.load(w),s.setSize=()=>{},s.hide=()=>{s.pause(),r&&(r.style.display="none")},s.show=()=>{r&&(r.style.display="")},s.destroy=()=>{a.destroy()},s}};mejs.Utils.typeChecks.push(t=>/\/\/(w\.)?soundcloud.com/i.test(t)?"video/x-soundcloud":null);mejs.Renderers.add(T);})();
